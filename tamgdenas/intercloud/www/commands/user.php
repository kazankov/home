<?require_once $_SERVER['DOCUMENT_ROOT'].'/modules/command.php';/*** Полльзователь*/class User{	/**	*	получить 	*/	function get($id)	{		global $db;		return fixMongoId($db->users->findOne(array('_id' => new MongoId($id))));	}	/**	*	Удалить 	*/	function delete($id)	{		global $db;		$buf = $db->users->remove(array('_id' => new MongoId($id)), array("justOne" => true));		return !!$buf['ok'];	}			/**	*	Создать 	*/	function put($urls, $data)	{		global $db;				$obj = 	array(			'urls'=>json_decode($urls),			'data'=>$data		);				if(!$db->users->insert($obj))error('Ошибка записи в базу');		return fixMongoId($obj);	}	/**	*	Редактировать  	*/		function post($id, $urls, $data)	{		if(!$id)error('Id не указан');		global $db;				$obj = $db->users->findOne(array('_id' => new MongoId($id)));				if(!$obj) error("Пользователь с идентификатором {$id} не существует");				$obj['urls'] = json_decode($urls);		$obj['data'] = $data;				if(!$db->ctbooks->update(array('_id' => new MongoId($id)), $obj))error('Ошибка записи в базу');		return fixMongoId($obj);		}		}?>