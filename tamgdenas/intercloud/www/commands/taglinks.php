<?require_once $_SERVER['DOCUMENT_ROOT'].'/modules/command.php';/*** Тегоые ссылки*/class Taglinks{	/**		* Команда редактирования тегов сущности 	*/		function post($url, $tags)	{		if(!$url) error('url не указан');				global $db;		$url = normUrl($url);				if($tags) 		{			$tags = json_decode($tags);			$tags = implode(' ', $tags);		}				$obj = $db->tagLinks->findOne(array('url'=>$url));		if(!$obj) $obj = array();				$obj['url']=$url;		$obj['tags']=$tags;				if(!$db->tagLinks->save($obj))error('Ошибка записи в базу');			return fixMongoId($obj); 			}	/**	* Получение тегов сущности по url	*/		function get($url)	{		if(!$url) error('url не указан');				global $db;		$url = normUrl($url);				return fixMongoId($db->tagLinks->findOne(array('url'=>$url)));			}		/**	* Удаление тегов сущности по url	*/		function delete($url)	{		if(!$url) error('url не указан');				global $db;		$url = normUrl($url);				$buf = $db->tagLinks->remove(array('url' => $url), array("justOne" => true, 'safe'=>true));		return !!$buf['ok'];		}	}?>