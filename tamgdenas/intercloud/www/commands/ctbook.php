<?require_once $_SERVER['DOCUMENT_ROOT'].'/modules/command.php';/*** Ситибук*/class Ctbook{	/**	*	Создать ситибук <br>	*	author   - url создателя, пример -  microsoft.com/users/pupkin , pupkin@microsoft.com	*/	function put($author, $title)	{		if(!$author)error('Автор не указан');		if(!$title)error('Заголовок не указан');		global $db;		$autor = normUrl($author);		$dt = getDateTime(); 				$obj = 	array(			'author'=>$autor,			'createDateTime'=>$dt,			'title'=>$title		);				if(!$db->ctbooks->insert($obj))error('Ошибка записи в базу');		return $obj;	}	/**	*	Получить ситибук 	*/		function get($id)	{		global $db;		return fixMongoId($db->ctbooks->findOne(array('_id' => new MongoId($id))));	}		/**	*	Удалить ситибук 	*/		function delete($id)	{		global $db;		$buf = $db->ctbooks->remove(array('_id' => new MongoId($id)), array("justOne" => true, 'safe'=>true));		return !!$buf['ok'];	}	}?>